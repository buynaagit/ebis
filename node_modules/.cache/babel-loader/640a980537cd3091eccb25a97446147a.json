{"ast":null,"code":"var _jsxFileName = \"/Users/hippo/Workspace/Saasland_React_April_30_2020/Saasland_React/src/Pages/NewsDashboard.js\";\nimport React, { useState } from \"react\";\nimport { Card, Table, Select, Input, Button, Badge, Menu } from \"antd\";\nimport ProductListData from \"../assets/data/product-list.data.json\";\nimport { EyeOutlined, DeleteOutlined, SearchOutlined, PlusCircleOutlined } from \"@ant-design/icons\";\nimport AvatarStatus from \"../components/AvatarStatus\";\nimport EllipsisDropdown from \"../components/EllipsisDropdown\";\nimport Flex from \"../components/Flex\";\nimport NumberFormat from \"react-number-format\";\nimport { useHistory } from \"react-router-dom\";\nimport utils from \"../utils\";\nconst {\n  Option\n} = Select;\n\nconst getStockStatus = stockCount => {\n  if (stockCount >= 10) {\n    return React.createElement(React.Fragment, null, React.createElement(Badge, {\n      status: \"success\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 23\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 24\n      },\n      __self: this\n    }, \"In Stock\"));\n  }\n\n  if (stockCount < 10 && stockCount > 0) {\n    return React.createElement(React.Fragment, null, React.createElement(Badge, {\n      status: \"warning\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32\n      },\n      __self: this\n    }, \"Limited Stock\"));\n  }\n\n  if (stockCount === 0) {\n    return React.createElement(React.Fragment, null, React.createElement(Badge, {\n      status: \"error\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, \"Out of Stock\"));\n  }\n\n  return null;\n};\n\nconst categories = [\"Cloths\", \"Bags\", \"Shoes\", \"Watches\", \"Devices\"];\n\nconst ProductList = () => {\n  React.useEffect(() => {\n    getBlogFromAPI();\n  }, []);\n  let history = useHistory();\n  const [list, setList] = useState(ProductListData);\n  const [selectedRows, setSelectedRows] = useState([]);\n  const [selectedRowKeys, setSelectedRowKeys] = useState([]);\n\n  const getBlogFromAPI = e => {\n    e.preventDefault();\n    const config = {\n      headers: {\n        \"Content-type\": \"application/json\",\n        Authorization: \"Bearer \" + localStorage.getItem(\"token\")\n      }\n    };\n    console.log(`button Pressed`);\n\n    if (editorRef.current) {\n      console.log(editorRef.current.getContent());\n      setDescription(editorRef.current.getContent());\n    }\n\n    axios.get(`${URL}/api/blogs/`, config).then(function (response) {\n      console.log(`response`, response.data);\n      localStorage.setItem(\"token\", response.data.token);\n      history.push(\"/Landing\");\n    }).catch(function (error) {\n      console.log(`error`, error.response);\n    });\n  };\n\n  const dropdownMenu = row => React.createElement(Menu, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, React.createElement(Menu.Item, {\n    onClick: () => viewDetails(row),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }, React.createElement(Flex, {\n    alignItems: \"center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }, React.createElement(EyeOutlined, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    className: \"ml-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, \"Edit news\"))), React.createElement(Menu.Item, {\n    onClick: () => deleteRow(row),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }, React.createElement(Flex, {\n    alignItems: \"center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }, React.createElement(DeleteOutlined, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    className: \"ml-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }, selectedRows.length > 0 ? `Delete (${selectedRows.length})` : \"Delete\"))));\n\n  const addProduct = () => {\n    history.push(`/NewsPublish`);\n  };\n\n  const viewDetails = row => {\n    history.push(`/app/apps/ecommerce/edit-product/${row.id}`);\n  };\n\n  const deleteRow = row => {\n    const objKey = \"id\";\n    let data = list;\n\n    if (selectedRows.length > 1) {\n      selectedRows.forEach(elm => {\n        data = utils.deleteArrayRow(data, objKey, elm.id);\n        setList(data);\n        setSelectedRows([]);\n      });\n    } else {\n      data = utils.deleteArrayRow(data, objKey, row.id);\n      setList(data);\n    }\n  };\n\n  const tableColumns = [{\n    title: \"ID\",\n    dataIndex: \"id\"\n  }, {\n    title: \"Product\",\n    dataIndex: \"name\",\n    render: (_, record) => React.createElement(\"div\", {\n      className: \"d-flex\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, React.createElement(AvatarStatus, {\n      size: 60,\n      type: \"square\",\n      src: record.image,\n      name: record.name,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    })),\n    sorter: (a, b) => utils.antdTableSorter(a, b, \"name\")\n  }, {\n    title: \"Category\",\n    dataIndex: \"category\",\n    sorter: (a, b) => utils.antdTableSorter(a, b, \"category\")\n  }, // {\n  //   title: \"Price\",\n  //   dataIndex: \"price\",\n  //   render: (price) => (\n  //     <div>\n  //       <NumberFormat\n  //         displayType={\"text\"}\n  //         value={(Math.round(price * 100) / 100).toFixed(2)}\n  //         prefix={\"$\"}\n  //         thousandSeparator={true}\n  //       />\n  //     </div>\n  //   ),\n  //   sorter: (a, b) => utils.antdTableSorter(a, b, \"price\"),\n  // },\n  {\n    title: \"Date\",\n    dataIndex: \"stock\",\n    sorter: (a, b) => utils.antdTableSorter(a, b, \"stock\")\n  }, // {\n  //   title: \"Date\",\n  //   dataIndex: \"stock\",\n  //   render: (stock) => (\n  //     <Flex alignItems=\"center\">{getStockStatus(stock)}</Flex>\n  //   ),\n  //   sorter: (a, b) => utils.antdTableSorter(a, b, \"stock\"),\n  // },\n  {\n    title: \"\",\n    dataIndex: \"actions\",\n    render: (_, elm) => React.createElement(\"div\", {\n      className: \"text-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }, React.createElement(EllipsisDropdown, {\n      menu: dropdownMenu(elm),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    }))\n  }];\n  const rowSelection = {\n    onChange: (key, rows) => {\n      setSelectedRows(rows);\n      setSelectedRowKeys(key);\n    }\n  };\n\n  const onSearch = e => {\n    const value = e.currentTarget.value;\n    const searchArray = e.currentTarget.value ? list : ProductListData;\n    const data = utils.wildCardSearch(searchArray, value);\n    setList(data);\n    setSelectedRowKeys([]);\n  };\n\n  const handleShowCategory = value => {\n    if (value !== \"All\") {\n      const key = \"category\";\n      const data = utils.filterArray(ProductListData, key, value);\n      setList(data);\n    } else {\n      setList(ProductListData);\n    }\n  };\n\n  return React.createElement(Card, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222\n    },\n    __self: this\n  }, React.createElement(Flex, {\n    alignItems: \"center\",\n    justifyContent: \"between\",\n    mobileFlex: false,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223\n    },\n    __self: this\n  }, React.createElement(Flex, {\n    className: \"mb-1\",\n    mobileFlex: false,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"mr-md-3 mb-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225\n    },\n    __self: this\n  }, React.createElement(Input, {\n    placeholder: \"Search\",\n    prefix: React.createElement(SearchOutlined, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228\n      },\n      __self: this\n    }),\n    onChange: e => onSearch(e),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"mb-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232\n    },\n    __self: this\n  }, React.createElement(Select, {\n    defaultValue: \"All\",\n    className: \"w-100\",\n    style: {\n      minWidth: 180\n    },\n    onChange: handleShowCategory,\n    placeholder: \"Category\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233\n    },\n    __self: this\n  }, React.createElement(Option, {\n    value: \"All\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240\n    },\n    __self: this\n  }, \"All\"), categories.map(elm => React.createElement(Option, {\n    key: elm,\n    value: elm,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242\n    },\n    __self: this\n  }, elm))))), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249\n    },\n    __self: this\n  }, React.createElement(Button, {\n    onClick: addProduct,\n    type: \"primary\",\n    icon: React.createElement(PlusCircleOutlined, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253\n      },\n      __self: this\n    }),\n    block: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250\n    },\n    __self: this\n  }, \"Add news\"))), React.createElement(\"div\", {\n    className: \"table-responsive\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260\n    },\n    __self: this\n  }, React.createElement(Table, {\n    columns: tableColumns,\n    dataSource: list,\n    rowKey: \"id\",\n    rowSelection: {\n      selectedRowKeys: selectedRowKeys,\n      type: \"checkbox\",\n      preserveSelectedRowKeys: false,\n      ...rowSelection\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 261\n    },\n    __self: this\n  })));\n};\n\nexport default ProductList;","map":{"version":3,"sources":["/Users/hippo/Workspace/Saasland_React_April_30_2020/Saasland_React/src/Pages/NewsDashboard.js"],"names":["React","useState","Card","Table","Select","Input","Button","Badge","Menu","ProductListData","EyeOutlined","DeleteOutlined","SearchOutlined","PlusCircleOutlined","AvatarStatus","EllipsisDropdown","Flex","NumberFormat","useHistory","utils","Option","getStockStatus","stockCount","categories","ProductList","useEffect","getBlogFromAPI","history","list","setList","selectedRows","setSelectedRows","selectedRowKeys","setSelectedRowKeys","e","preventDefault","config","headers","Authorization","localStorage","getItem","console","log","editorRef","current","getContent","setDescription","axios","get","URL","then","response","data","setItem","token","push","catch","error","dropdownMenu","row","viewDetails","deleteRow","length","addProduct","id","objKey","forEach","elm","deleteArrayRow","tableColumns","title","dataIndex","render","_","record","image","name","sorter","a","b","antdTableSorter","rowSelection","onChange","key","rows","onSearch","value","currentTarget","searchArray","wildCardSearch","handleShowCategory","filterArray","minWidth","map","type","preserveSelectedRowKeys"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { Card, Table, Select, Input, Button, Badge, Menu } from \"antd\";\nimport ProductListData from \"../assets/data/product-list.data.json\";\nimport {\n  EyeOutlined,\n  DeleteOutlined,\n  SearchOutlined,\n  PlusCircleOutlined,\n} from \"@ant-design/icons\";\nimport AvatarStatus from \"../components/AvatarStatus\";\nimport EllipsisDropdown from \"../components/EllipsisDropdown\";\nimport Flex from \"../components/Flex\";\nimport NumberFormat from \"react-number-format\";\nimport { useHistory } from \"react-router-dom\";\nimport utils from \"../utils\";\n\nconst { Option } = Select;\n\nconst getStockStatus = (stockCount) => {\n  if (stockCount >= 10) {\n    return (\n      <>\n        <Badge status=\"success\" />\n        <span>In Stock</span>\n      </>\n    );\n  }\n  if (stockCount < 10 && stockCount > 0) {\n    return (\n      <>\n        <Badge status=\"warning\" />\n        <span>Limited Stock</span>\n      </>\n    );\n  }\n  if (stockCount === 0) {\n    return (\n      <>\n        <Badge status=\"error\" />\n        <span>Out of Stock</span>\n      </>\n    );\n  }\n  return null;\n};\n\nconst categories = [\"Cloths\", \"Bags\", \"Shoes\", \"Watches\", \"Devices\"];\n\nconst ProductList = () => {\n  React.useEffect(() => {\n    getBlogFromAPI();\n  }, []);\n\n  let history = useHistory();\n  const [list, setList] = useState(ProductListData);\n  const [selectedRows, setSelectedRows] = useState([]);\n  const [selectedRowKeys, setSelectedRowKeys] = useState([]);\n\n  const getBlogFromAPI = (e) => {\n    e.preventDefault();\n    const config = {\n      headers: {\n        \"Content-type\": \"application/json\",\n        Authorization: \"Bearer \" + localStorage.getItem(\"token\"),\n      },\n    };\n    console.log(`button Pressed`);\n    if (editorRef.current) {\n      console.log(editorRef.current.getContent());\n      setDescription(editorRef.current.getContent());\n    }\n    axios\n      .get(\n        `${URL}/api/blogs/`,\n\n        config\n      )\n      .then(function (response) {\n        console.log(`response`, response.data);\n        localStorage.setItem(\"token\", response.data.token);\n        history.push(\"/Landing\");\n      })\n      .catch(function (error) {\n        console.log(`error`, error.response);\n      });\n  };\n\n  const dropdownMenu = (row) => (\n    <Menu>\n      <Menu.Item onClick={() => viewDetails(row)}>\n        <Flex alignItems=\"center\">\n          <EyeOutlined />\n          <span className=\"ml-2\">Edit news</span>\n        </Flex>\n      </Menu.Item>\n      <Menu.Item onClick={() => deleteRow(row)}>\n        <Flex alignItems=\"center\">\n          <DeleteOutlined />\n          <span className=\"ml-2\">\n            {selectedRows.length > 0\n              ? `Delete (${selectedRows.length})`\n              : \"Delete\"}\n          </span>\n        </Flex>\n      </Menu.Item>\n    </Menu>\n  );\n\n  const addProduct = () => {\n    history.push(`/NewsPublish`);\n  };\n\n  const viewDetails = (row) => {\n    history.push(`/app/apps/ecommerce/edit-product/${row.id}`);\n  };\n\n  const deleteRow = (row) => {\n    const objKey = \"id\";\n    let data = list;\n    if (selectedRows.length > 1) {\n      selectedRows.forEach((elm) => {\n        data = utils.deleteArrayRow(data, objKey, elm.id);\n        setList(data);\n        setSelectedRows([]);\n      });\n    } else {\n      data = utils.deleteArrayRow(data, objKey, row.id);\n      setList(data);\n    }\n  };\n\n  const tableColumns = [\n    {\n      title: \"ID\",\n      dataIndex: \"id\",\n    },\n    {\n      title: \"Product\",\n      dataIndex: \"name\",\n      render: (_, record) => (\n        <div className=\"d-flex\">\n          <AvatarStatus\n            size={60}\n            type=\"square\"\n            src={record.image}\n            name={record.name}\n          />\n        </div>\n      ),\n      sorter: (a, b) => utils.antdTableSorter(a, b, \"name\"),\n    },\n    {\n      title: \"Category\",\n      dataIndex: \"category\",\n      sorter: (a, b) => utils.antdTableSorter(a, b, \"category\"),\n    },\n    // {\n    //   title: \"Price\",\n    //   dataIndex: \"price\",\n    //   render: (price) => (\n    //     <div>\n    //       <NumberFormat\n    //         displayType={\"text\"}\n    //         value={(Math.round(price * 100) / 100).toFixed(2)}\n    //         prefix={\"$\"}\n    //         thousandSeparator={true}\n    //       />\n    //     </div>\n    //   ),\n    //   sorter: (a, b) => utils.antdTableSorter(a, b, \"price\"),\n    // },\n    {\n      title: \"Date\",\n      dataIndex: \"stock\",\n      sorter: (a, b) => utils.antdTableSorter(a, b, \"stock\"),\n    },\n    // {\n    //   title: \"Date\",\n    //   dataIndex: \"stock\",\n    //   render: (stock) => (\n    //     <Flex alignItems=\"center\">{getStockStatus(stock)}</Flex>\n    //   ),\n    //   sorter: (a, b) => utils.antdTableSorter(a, b, \"stock\"),\n    // },\n    {\n      title: \"\",\n      dataIndex: \"actions\",\n      render: (_, elm) => (\n        <div className=\"text-right\">\n          <EllipsisDropdown menu={dropdownMenu(elm)} />\n        </div>\n      ),\n    },\n  ];\n\n  const rowSelection = {\n    onChange: (key, rows) => {\n      setSelectedRows(rows);\n      setSelectedRowKeys(key);\n    },\n  };\n\n  const onSearch = (e) => {\n    const value = e.currentTarget.value;\n    const searchArray = e.currentTarget.value ? list : ProductListData;\n    const data = utils.wildCardSearch(searchArray, value);\n    setList(data);\n    setSelectedRowKeys([]);\n  };\n\n  const handleShowCategory = (value) => {\n    if (value !== \"All\") {\n      const key = \"category\";\n      const data = utils.filterArray(ProductListData, key, value);\n      setList(data);\n    } else {\n      setList(ProductListData);\n    }\n  };\n\n  return (\n    <Card>\n      <Flex alignItems=\"center\" justifyContent=\"between\" mobileFlex={false}>\n        <Flex className=\"mb-1\" mobileFlex={false}>\n          <div className=\"mr-md-3 mb-3\">\n            <Input\n              placeholder=\"Search\"\n              prefix={<SearchOutlined />}\n              onChange={(e) => onSearch(e)}\n            />\n          </div>\n          <div className=\"mb-3\">\n            <Select\n              defaultValue=\"All\"\n              className=\"w-100\"\n              style={{ minWidth: 180 }}\n              onChange={handleShowCategory}\n              placeholder=\"Category\"\n            >\n              <Option value=\"All\">All</Option>\n              {categories.map((elm) => (\n                <Option key={elm} value={elm}>\n                  {elm}\n                </Option>\n              ))}\n            </Select>\n          </div>\n        </Flex>\n        <div>\n          <Button\n            onClick={addProduct}\n            type=\"primary\"\n            icon={<PlusCircleOutlined />}\n            block\n          >\n            Add news\n          </Button>\n        </div>\n      </Flex>\n      <div className=\"table-responsive\">\n        <Table\n          columns={tableColumns}\n          dataSource={list}\n          rowKey=\"id\"\n          rowSelection={{\n            selectedRowKeys: selectedRowKeys,\n            type: \"checkbox\",\n            preserveSelectedRowKeys: false,\n            ...rowSelection,\n          }}\n        />\n      </div>\n    </Card>\n  );\n};\n\nexport default ProductList;\n"]},"metadata":{},"sourceType":"module"}