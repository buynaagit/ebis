{"ast":null,"code":"var _jsxFileName = \"/Users/hippo/Workspace/Saasland_React_April_30_2020/Saasland_React/src/Pages/NewsDashboard.js\";\nimport React, { useState } from \"react\";\nimport { Card, Table, Select, Input, Button, Badge, Menu } from \"antd\";\nimport ProductListData from \"../assets/data/product-list.data.json\";\nimport { EyeOutlined, DeleteOutlined, SearchOutlined, PlusCircleOutlined } from \"@ant-design/icons\";\nimport AvatarStatus from \"../components/AvatarStatus\";\nimport EllipsisDropdown from \"../components/EllipsisDropdown\";\nimport Flex from \"../components/Flex\";\nimport NumberFormat from \"react-number-format\";\nimport { useHistory } from \"react-router-dom\";\nimport utils from \"../utils\";\nimport axios from \"axios\";\nimport { URL } from \"../utils/appConstant\";\nconst {\n  Option\n} = Select;\n\nconst getStockStatus = stockCount => {\n  if (stockCount >= 10) {\n    return React.createElement(React.Fragment, null, React.createElement(Badge, {\n      status: \"success\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 25\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26\n      },\n      __self: this\n    }, \"In Stock\"));\n  }\n\n  if (stockCount < 10 && stockCount > 0) {\n    return React.createElement(React.Fragment, null, React.createElement(Badge, {\n      status: \"warning\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34\n      },\n      __self: this\n    }, \"Limited Stock\"));\n  }\n\n  if (stockCount === 0) {\n    return React.createElement(React.Fragment, null, React.createElement(Badge, {\n      status: \"error\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, \"Out of Stock\"));\n  }\n\n  return null;\n};\n\nconst categories = [\"Cloths\", \"Bags\", \"Shoes\", \"Watches\", \"Devices\"];\n\nconst signOut = () => {\n  console.log(\"sign out button\");\n};\n\nconst ProductList = () => {\n  let history = useHistory();\n  const [selectedRows, setSelectedRows] = useState([]);\n  const [selectedRowKeys, setSelectedRowKeys] = useState([]);\n  const [blogs, setBlogs] = useState([]);\n  const getBlogFromAPI = React.useCallback(e => {\n    // e.preventDefault();\n    const config = {\n      headers: {\n        \"Content-type\": \"application/json\"\n      }\n    };\n    console.log(`button Pressed`);\n    axios.get(`${URL}/api/blogs/`, config).then(function (response) {\n      console.log(`response`, response.data);\n      setBlogs(response.data);\n      localStorage.setItem(\"blogs\", response.data);\n    }).catch(function (error) {\n      console.log(`error`, error.response);\n    });\n  }, []);\n  React.useEffect(() => {\n    getBlogFromAPI();\n  }, [getBlogFromAPI]);\n  const [list, setList] = useState(blogs);\n\n  const dropdownMenu = row => React.createElement(Menu, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, React.createElement(Menu.Item, {\n    onClick: () => viewDetails(row),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }, React.createElement(Flex, {\n    alignItems: \"center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }, React.createElement(EyeOutlined, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    className: \"ml-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, \"Edit news\"))), React.createElement(Menu.Item, {\n    onClick: () => deleteRow(row),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }, React.createElement(Flex, {\n    alignItems: \"center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }, React.createElement(DeleteOutlined, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    className: \"ml-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }, selectedRows.length > 0 ? `Delete (${selectedRows.length})` : \"Delete\"))));\n\n  const addProduct = () => {\n    history.push(`/NewsPublish`);\n  };\n\n  const viewDetails = row => {\n    history.push(`/app/apps/ecommerce/edit-product/${row.id}`);\n  };\n\n  const deleteRow = row => {\n    const objKey = \"id\";\n    let data = list;\n\n    if (selectedRows.length > 1) {\n      selectedRows.forEach(elm => {\n        data = utils.deleteArrayRow(data, objKey, elm.id);\n        setList(data);\n        setSelectedRows([]);\n      });\n    } else {\n      data = utils.deleteArrayRow(data, objKey, row.id);\n      setList(data);\n    }\n  };\n\n  const tableColumns = [{\n    title: \"ID\",\n    dataIndex: \"id\"\n  }, {\n    title: \"News list\",\n    dataIndex: \"title\",\n    render: (_, record) => React.createElement(\"div\", {\n      className: \"d-flex\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, React.createElement(AvatarStatus, {\n      size: 60,\n      type: \"square\",\n      src: record.cover_image,\n      name: record.title,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    })),\n    sorter: (a, b) => utils.antdTableSorter(a, b, \"name\")\n  }, {\n    title: \"Category\",\n    dataIndex: \"category\",\n    sorter: (a, b) => utils.antdTableSorter(a, b, \"category\")\n  }, {\n    title: \"Date\",\n    dataIndex: \"stock\",\n    sorter: (a, b) => utils.antdTableSorter(a, b, \"stock\")\n  }, {\n    title: \"\",\n    dataIndex: \"actions\",\n    render: (_, elm) => React.createElement(\"div\", {\n      className: \"text-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, React.createElement(EllipsisDropdown, {\n      menu: dropdownMenu(elm),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }))\n  }];\n  const rowSelection = {\n    onChange: (key, rows) => {\n      setSelectedRows(rows);\n      setSelectedRowKeys(key);\n    }\n  };\n\n  const onSearch = e => {\n    const value = e.currentTarget.value;\n    const searchArray = e.currentTarget.value ? blogs : blogs;\n    const data = utils.wildCardSearch(searchArray, value);\n    setList(data);\n    setSelectedRowKeys([]);\n  };\n\n  const handleShowCategory = value => {\n    if (value !== \"All\") {\n      const key = \"category\";\n      const data = utils.filterArray(blogs, key, value);\n      setList(data);\n    } else {\n      setList(blogs);\n    }\n  };\n\n  return React.createElement(Card, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201\n    },\n    __self: this\n  }, React.createElement(Flex, {\n    alignItems: \"center\",\n    justifyContent: \"between\",\n    mobileFlex: false,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202\n    },\n    __self: this\n  }, React.createElement(Flex, {\n    className: \"mb-1\",\n    mobileFlex: false,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"mr-md-3 mb-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204\n    },\n    __self: this\n  }, React.createElement(Input, {\n    placeholder: \"Search\",\n    prefix: React.createElement(SearchOutlined, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    }),\n    onChange: e => onSearch(e),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"mb-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211\n    },\n    __self: this\n  }, React.createElement(Select, {\n    defaultValue: \"All\",\n    className: \"w-100\",\n    style: {\n      minWidth: 180\n    },\n    onChange: handleShowCategory,\n    placeholder: \"Category\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212\n    },\n    __self: this\n  }, React.createElement(Option, {\n    value: \"All\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219\n    },\n    __self: this\n  }, \"All\"), categories.map(elm => React.createElement(Option, {\n    key: elm,\n    value: elm,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221\n    },\n    __self: this\n  }, elm))))), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228\n    },\n    __self: this\n  }, React.createElement(Button, {\n    onClick: addProduct,\n    type: \"primary\",\n    icon: React.createElement(PlusCircleOutlined, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232\n      },\n      __self: this\n    }),\n    block: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229\n    },\n    __self: this\n  }, \"Add news\"))), React.createElement(\"div\", {\n    className: \"table-responsive\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239\n    },\n    __self: this\n  }, React.createElement(Table, {\n    columns: tableColumns,\n    dataSource: blogs,\n    rowKey: \"id\",\n    rowSelection: {\n      selectedRowKeys: selectedRowKeys,\n      type: \"checkbox\",\n      preserveSelectedRowKeys: false,\n      ...rowSelection\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240\n    },\n    __self: this\n  })), React.createElement(\"button\", {\n    className: \"btn_three\",\n    onClick: signOut,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252\n    },\n    __self: this\n  }, \"\\u041D\\u0438\\u0439\\u0442\\u043B\\u044D\\u0445\"));\n};\n\nexport default ProductList;","map":{"version":3,"sources":["/Users/hippo/Workspace/Saasland_React_April_30_2020/Saasland_React/src/Pages/NewsDashboard.js"],"names":["React","useState","Card","Table","Select","Input","Button","Badge","Menu","ProductListData","EyeOutlined","DeleteOutlined","SearchOutlined","PlusCircleOutlined","AvatarStatus","EllipsisDropdown","Flex","NumberFormat","useHistory","utils","axios","URL","Option","getStockStatus","stockCount","categories","signOut","console","log","ProductList","history","selectedRows","setSelectedRows","selectedRowKeys","setSelectedRowKeys","blogs","setBlogs","getBlogFromAPI","useCallback","e","config","headers","get","then","response","data","localStorage","setItem","catch","error","useEffect","list","setList","dropdownMenu","row","viewDetails","deleteRow","length","addProduct","push","id","objKey","forEach","elm","deleteArrayRow","tableColumns","title","dataIndex","render","_","record","cover_image","sorter","a","b","antdTableSorter","rowSelection","onChange","key","rows","onSearch","value","currentTarget","searchArray","wildCardSearch","handleShowCategory","filterArray","minWidth","map","type","preserveSelectedRowKeys"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { Card, Table, Select, Input, Button, Badge, Menu } from \"antd\";\nimport ProductListData from \"../assets/data/product-list.data.json\";\nimport {\n  EyeOutlined,\n  DeleteOutlined,\n  SearchOutlined,\n  PlusCircleOutlined,\n} from \"@ant-design/icons\";\nimport AvatarStatus from \"../components/AvatarStatus\";\nimport EllipsisDropdown from \"../components/EllipsisDropdown\";\nimport Flex from \"../components/Flex\";\nimport NumberFormat from \"react-number-format\";\nimport { useHistory } from \"react-router-dom\";\nimport utils from \"../utils\";\nimport axios from \"axios\";\nimport { URL } from \"../utils/appConstant\";\n\nconst { Option } = Select;\n\nconst getStockStatus = (stockCount) => {\n  if (stockCount >= 10) {\n    return (\n      <>\n        <Badge status=\"success\" />\n        <span>In Stock</span>\n      </>\n    );\n  }\n  if (stockCount < 10 && stockCount > 0) {\n    return (\n      <>\n        <Badge status=\"warning\" />\n        <span>Limited Stock</span>\n      </>\n    );\n  }\n  if (stockCount === 0) {\n    return (\n      <>\n        <Badge status=\"error\" />\n        <span>Out of Stock</span>\n      </>\n    );\n  }\n  return null;\n};\n\nconst categories = [\"Cloths\", \"Bags\", \"Shoes\", \"Watches\", \"Devices\"];\n\nconst signOut = () => {\n  console.log(\"sign out button\");\n};\n\nconst ProductList = () => {\n  let history = useHistory();\n  const [selectedRows, setSelectedRows] = useState([]);\n  const [selectedRowKeys, setSelectedRowKeys] = useState([]);\n  const [blogs, setBlogs] = useState([]);\n\n  const getBlogFromAPI = React.useCallback((e) => {\n    // e.preventDefault();\n    const config = {\n      headers: {\n        \"Content-type\": \"application/json\",\n      },\n    };\n    console.log(`button Pressed`);\n\n    axios\n      .get(`${URL}/api/blogs/`, config)\n      .then(function (response) {\n        console.log(`response`, response.data);\n        setBlogs(response.data);\n        localStorage.setItem(\"blogs\", response.data);\n      })\n      .catch(function (error) {\n        console.log(`error`, error.response);\n      });\n  }, []);\n\n  React.useEffect(() => {\n    getBlogFromAPI();\n  }, [getBlogFromAPI]);\n\n  const [list, setList] = useState(blogs);\n\n  const dropdownMenu = (row) => (\n    <Menu>\n      <Menu.Item onClick={() => viewDetails(row)}>\n        <Flex alignItems=\"center\">\n          <EyeOutlined />\n          <span className=\"ml-2\">Edit news</span>\n        </Flex>\n      </Menu.Item>\n      <Menu.Item onClick={() => deleteRow(row)}>\n        <Flex alignItems=\"center\">\n          <DeleteOutlined />\n          <span className=\"ml-2\">\n            {selectedRows.length > 0\n              ? `Delete (${selectedRows.length})`\n              : \"Delete\"}\n          </span>\n        </Flex>\n      </Menu.Item>\n    </Menu>\n  );\n\n  const addProduct = () => {\n    history.push(`/NewsPublish`);\n  };\n\n  const viewDetails = (row) => {\n    history.push(`/app/apps/ecommerce/edit-product/${row.id}`);\n  };\n\n  const deleteRow = (row) => {\n    const objKey = \"id\";\n    let data = list;\n    if (selectedRows.length > 1) {\n      selectedRows.forEach((elm) => {\n        data = utils.deleteArrayRow(data, objKey, elm.id);\n        setList(data);\n        setSelectedRows([]);\n      });\n    } else {\n      data = utils.deleteArrayRow(data, objKey, row.id);\n      setList(data);\n    }\n  };\n\n  const tableColumns = [\n    {\n      title: \"ID\",\n      dataIndex: \"id\",\n    },\n    {\n      title: \"News list\",\n      dataIndex: \"title\",\n      render: (_, record) => (\n        <div className=\"d-flex\">\n          <AvatarStatus\n            size={60}\n            type=\"square\"\n            src={record.cover_image}\n            name={record.title}\n          />\n        </div>\n      ),\n      sorter: (a, b) => utils.antdTableSorter(a, b, \"name\"),\n    },\n    {\n      title: \"Category\",\n      dataIndex: \"category\",\n      sorter: (a, b) => utils.antdTableSorter(a, b, \"category\"),\n    },\n\n    {\n      title: \"Date\",\n      dataIndex: \"stock\",\n      sorter: (a, b) => utils.antdTableSorter(a, b, \"stock\"),\n    },\n\n    {\n      title: \"\",\n      dataIndex: \"actions\",\n      render: (_, elm) => (\n        <div className=\"text-right\">\n          <EllipsisDropdown menu={dropdownMenu(elm)} />\n        </div>\n      ),\n    },\n  ];\n\n  const rowSelection = {\n    onChange: (key, rows) => {\n      setSelectedRows(rows);\n      setSelectedRowKeys(key);\n    },\n  };\n\n  const onSearch = (e) => {\n    const value = e.currentTarget.value;\n    const searchArray = e.currentTarget.value ? blogs : blogs;\n    const data = utils.wildCardSearch(searchArray, value);\n    setList(data);\n    setSelectedRowKeys([]);\n  };\n\n  const handleShowCategory = (value) => {\n    if (value !== \"All\") {\n      const key = \"category\";\n      const data = utils.filterArray(blogs, key, value);\n      setList(data);\n    } else {\n      setList(blogs);\n    }\n  };\n\n  return (\n    <Card>\n      <Flex alignItems=\"center\" justifyContent=\"between\" mobileFlex={false}>\n        <Flex className=\"mb-1\" mobileFlex={false}>\n          <div className=\"mr-md-3 mb-3\">\n            <Input\n              placeholder=\"Search\"\n              prefix={<SearchOutlined />}\n              onChange={(e) => onSearch(e)}\n            />\n          </div>\n          <div className=\"mb-3\">\n            <Select\n              defaultValue=\"All\"\n              className=\"w-100\"\n              style={{ minWidth: 180 }}\n              onChange={handleShowCategory}\n              placeholder=\"Category\"\n            >\n              <Option value=\"All\">All</Option>\n              {categories.map((elm) => (\n                <Option key={elm} value={elm}>\n                  {elm}\n                </Option>\n              ))}\n            </Select>\n          </div>\n        </Flex>\n        <div>\n          <Button\n            onClick={addProduct}\n            type=\"primary\"\n            icon={<PlusCircleOutlined />}\n            block\n          >\n            Add news\n          </Button>\n        </div>\n      </Flex>\n      <div className=\"table-responsive\">\n        <Table\n          columns={tableColumns}\n          dataSource={blogs}\n          rowKey=\"id\"\n          rowSelection={{\n            selectedRowKeys: selectedRowKeys,\n            type: \"checkbox\",\n            preserveSelectedRowKeys: false,\n            ...rowSelection,\n          }}\n        />\n      </div>\n      <button className=\"btn_three\" onClick={signOut}>\n        Нийтлэх\n      </button>\n    </Card>\n  );\n};\n\nexport default ProductList;\n"]},"metadata":{},"sourceType":"module"}