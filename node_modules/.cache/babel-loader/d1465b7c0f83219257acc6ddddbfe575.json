{"ast":null,"code":"var _jsxFileName = \"/Users/hippo/Workspace/Saasland_React_April_30_2020/Saasland_React/src/Pages/NewsDashboard.js\";\nimport React, { useState } from \"react\";\nimport { Card, Table, Select, Input, Button, Badge, Menu } from \"antd\";\nimport ProductListData from \"../assets/data/product-list.data.json\";\nimport { EyeOutlined, DeleteOutlined, SearchOutlined, PlusCircleOutlined } from \"@ant-design/icons\";\nimport AvatarStatus from \"../components/AvatarStatus\";\nimport EllipsisDropdown from \"../components/EllipsisDropdown\";\nimport Flex from \"../components/Flex\";\nimport NumberFormat from \"react-number-format\";\nimport { useHistory } from \"react-router-dom\";\nimport utils from \"../utils\";\nconst {\n  Option\n} = Select;\n\nconst getStockStatus = stockCount => {\n  if (stockCount >= 10) {\n    return React.createElement(React.Fragment, null, React.createElement(Badge, {\n      status: \"success\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 23\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 24\n      },\n      __self: this\n    }, \"In Stock\"));\n  }\n\n  if (stockCount < 10 && stockCount > 0) {\n    return React.createElement(React.Fragment, null, React.createElement(Badge, {\n      status: \"warning\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32\n      },\n      __self: this\n    }, \"Limited Stock\"));\n  }\n\n  if (stockCount === 0) {\n    return React.createElement(React.Fragment, null, React.createElement(Badge, {\n      status: \"error\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, \"Out of Stock\"));\n  }\n\n  return null;\n};\n\nconst categories = [\"Cloths\", \"Bags\", \"Shoes\", \"Watches\", \"Devices\"];\n\nconst ProductList = () => {\n  let history = useHistory();\n  const [list, setList] = useState(ProductListData);\n  const [selectedRows, setSelectedRows] = useState([]);\n  const [selectedRowKeys, setSelectedRowKeys] = useState([]);\n\n  const dropdownMenu = row => React.createElement(Menu, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, React.createElement(Menu.Item, {\n    onClick: () => viewDetails(row),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, React.createElement(Flex, {\n    alignItems: \"center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, React.createElement(EyeOutlined, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    className: \"ml-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, \"Edit news\"))), React.createElement(Menu.Item, {\n    onClick: () => deleteRow(row),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, React.createElement(Flex, {\n    alignItems: \"center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, React.createElement(DeleteOutlined, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    className: \"ml-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, selectedRows.length > 0 ? `Delete (${selectedRows.length})` : \"Delete\"))));\n\n  const addProduct = () => {\n    history.push(`/app/apps/ecommerce/add-product`);\n  };\n\n  const viewDetails = row => {\n    history.push(`/app/apps/ecommerce/edit-product/${row.id}`);\n  };\n\n  const deleteRow = row => {\n    const objKey = \"id\";\n    let data = list;\n\n    if (selectedRows.length > 1) {\n      selectedRows.forEach(elm => {\n        data = utils.deleteArrayRow(data, objKey, elm.id);\n        setList(data);\n        setSelectedRows([]);\n      });\n    } else {\n      data = utils.deleteArrayRow(data, objKey, row.id);\n      setList(data);\n    }\n  };\n\n  const tableColumns = [{\n    title: \"ID\",\n    dataIndex: \"id\"\n  }, {\n    title: \"Product\",\n    dataIndex: \"name\",\n    render: (_, record) => React.createElement(\"div\", {\n      className: \"d-flex\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(AvatarStatus, {\n      size: 60,\n      type: \"square\",\n      src: record.image,\n      name: record.name,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    })),\n    sorter: (a, b) => utils.antdTableSorter(a, b, \"name\")\n  }, {\n    title: \"Category\",\n    dataIndex: \"category\",\n    sorter: (a, b) => utils.antdTableSorter(a, b, \"category\")\n  }, // {\n  //   title: \"Price\",\n  //   dataIndex: \"price\",\n  //   render: (price) => (\n  //     <div>\n  //       <NumberFormat\n  //         displayType={\"text\"}\n  //         value={(Math.round(price * 100) / 100).toFixed(2)}\n  //         prefix={\"$\"}\n  //         thousandSeparator={true}\n  //       />\n  //     </div>\n  //   ),\n  //   sorter: (a, b) => utils.antdTableSorter(a, b, \"price\"),\n  // },\n  {\n    title: \"Date\",\n    dataIndex: \"stock\",\n    sorter: (a, b) => utils.antdTableSorter(a, b, \"stock\")\n  }, // {\n  //   title: \"Date\",\n  //   dataIndex: \"stock\",\n  //   render: (stock) => (\n  //     <Flex alignItems=\"center\">{getStockStatus(stock)}</Flex>\n  //   ),\n  //   sorter: (a, b) => utils.antdTableSorter(a, b, \"stock\"),\n  // },\n  {\n    title: \"\",\n    dataIndex: \"actions\",\n    render: (_, elm) => React.createElement(\"div\", {\n      className: \"text-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, React.createElement(EllipsisDropdown, {\n      menu: dropdownMenu(elm),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }))\n  }];\n  const rowSelection = {\n    onChange: (key, rows) => {\n      setSelectedRows(rows);\n      setSelectedRowKeys(key);\n    }\n  };\n\n  const onSearch = e => {\n    const value = e.currentTarget.value;\n    const searchArray = e.currentTarget.value ? list : ProductListData;\n    const data = utils.wildCardSearch(searchArray, value);\n    setList(data);\n    setSelectedRowKeys([]);\n  };\n\n  const handleShowCategory = value => {\n    if (value !== \"All\") {\n      const key = \"category\";\n      const data = utils.filterArray(ProductListData, key, value);\n      setList(data);\n    } else {\n      setList(ProductListData);\n    }\n  };\n\n  return React.createElement(Card, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189\n    },\n    __self: this\n  }, React.createElement(Flex, {\n    alignItems: \"center\",\n    justifyContent: \"between\",\n    mobileFlex: false,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190\n    },\n    __self: this\n  }, React.createElement(Flex, {\n    className: \"mb-1\",\n    mobileFlex: false,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"mr-md-3 mb-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192\n    },\n    __self: this\n  }, React.createElement(Input, {\n    placeholder: \"Search\",\n    prefix: React.createElement(SearchOutlined, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195\n      },\n      __self: this\n    }),\n    onChange: e => onSearch(e),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"mb-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199\n    },\n    __self: this\n  }, React.createElement(Select, {\n    defaultValue: \"All\",\n    className: \"w-100\",\n    style: {\n      minWidth: 180\n    },\n    onChange: handleShowCategory,\n    placeholder: \"Category\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200\n    },\n    __self: this\n  }, React.createElement(Option, {\n    value: \"All\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207\n    },\n    __self: this\n  }, \"All\"), categories.map(elm => React.createElement(Option, {\n    key: elm,\n    value: elm,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209\n    },\n    __self: this\n  }, elm))))), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216\n    },\n    __self: this\n  }, React.createElement(Button, {\n    onClick: addProduct,\n    type: \"primary\",\n    icon: React.createElement(PlusCircleOutlined, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220\n      },\n      __self: this\n    }),\n    block: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217\n    },\n    __self: this\n  }, \"Add news\"))), React.createElement(\"div\", {\n    className: \"table-responsive\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227\n    },\n    __self: this\n  }, React.createElement(Table, {\n    columns: tableColumns,\n    dataSource: list,\n    rowKey: \"id\",\n    rowSelection: {\n      selectedRowKeys: selectedRowKeys,\n      type: \"checkbox\",\n      preserveSelectedRowKeys: false,\n      ...rowSelection\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228\n    },\n    __self: this\n  })));\n};\n\nexport default ProductList;","map":{"version":3,"sources":["/Users/hippo/Workspace/Saasland_React_April_30_2020/Saasland_React/src/Pages/NewsDashboard.js"],"names":["React","useState","Card","Table","Select","Input","Button","Badge","Menu","ProductListData","EyeOutlined","DeleteOutlined","SearchOutlined","PlusCircleOutlined","AvatarStatus","EllipsisDropdown","Flex","NumberFormat","useHistory","utils","Option","getStockStatus","stockCount","categories","ProductList","history","list","setList","selectedRows","setSelectedRows","selectedRowKeys","setSelectedRowKeys","dropdownMenu","row","viewDetails","deleteRow","length","addProduct","push","id","objKey","data","forEach","elm","deleteArrayRow","tableColumns","title","dataIndex","render","_","record","image","name","sorter","a","b","antdTableSorter","rowSelection","onChange","key","rows","onSearch","e","value","currentTarget","searchArray","wildCardSearch","handleShowCategory","filterArray","minWidth","map","type","preserveSelectedRowKeys"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { Card, Table, Select, Input, Button, Badge, Menu } from \"antd\";\nimport ProductListData from \"../assets/data/product-list.data.json\";\nimport {\n  EyeOutlined,\n  DeleteOutlined,\n  SearchOutlined,\n  PlusCircleOutlined,\n} from \"@ant-design/icons\";\nimport AvatarStatus from \"../components/AvatarStatus\";\nimport EllipsisDropdown from \"../components/EllipsisDropdown\";\nimport Flex from \"../components/Flex\";\nimport NumberFormat from \"react-number-format\";\nimport { useHistory } from \"react-router-dom\";\nimport utils from \"../utils\";\n\nconst { Option } = Select;\n\nconst getStockStatus = (stockCount) => {\n  if (stockCount >= 10) {\n    return (\n      <>\n        <Badge status=\"success\" />\n        <span>In Stock</span>\n      </>\n    );\n  }\n  if (stockCount < 10 && stockCount > 0) {\n    return (\n      <>\n        <Badge status=\"warning\" />\n        <span>Limited Stock</span>\n      </>\n    );\n  }\n  if (stockCount === 0) {\n    return (\n      <>\n        <Badge status=\"error\" />\n        <span>Out of Stock</span>\n      </>\n    );\n  }\n  return null;\n};\n\nconst categories = [\"Cloths\", \"Bags\", \"Shoes\", \"Watches\", \"Devices\"];\n\nconst ProductList = () => {\n  let history = useHistory();\n  const [list, setList] = useState(ProductListData);\n  const [selectedRows, setSelectedRows] = useState([]);\n  const [selectedRowKeys, setSelectedRowKeys] = useState([]);\n\n  const dropdownMenu = (row) => (\n    <Menu>\n      <Menu.Item onClick={() => viewDetails(row)}>\n        <Flex alignItems=\"center\">\n          <EyeOutlined />\n          <span className=\"ml-2\">Edit news</span>\n        </Flex>\n      </Menu.Item>\n      <Menu.Item onClick={() => deleteRow(row)}>\n        <Flex alignItems=\"center\">\n          <DeleteOutlined />\n          <span className=\"ml-2\">\n            {selectedRows.length > 0\n              ? `Delete (${selectedRows.length})`\n              : \"Delete\"}\n          </span>\n        </Flex>\n      </Menu.Item>\n    </Menu>\n  );\n\n  const addProduct = () => {\n    history.push(`/app/apps/ecommerce/add-product`);\n  };\n\n  const viewDetails = (row) => {\n    history.push(`/app/apps/ecommerce/edit-product/${row.id}`);\n  };\n\n  const deleteRow = (row) => {\n    const objKey = \"id\";\n    let data = list;\n    if (selectedRows.length > 1) {\n      selectedRows.forEach((elm) => {\n        data = utils.deleteArrayRow(data, objKey, elm.id);\n        setList(data);\n        setSelectedRows([]);\n      });\n    } else {\n      data = utils.deleteArrayRow(data, objKey, row.id);\n      setList(data);\n    }\n  };\n\n  const tableColumns = [\n    {\n      title: \"ID\",\n      dataIndex: \"id\",\n    },\n    {\n      title: \"Product\",\n      dataIndex: \"name\",\n      render: (_, record) => (\n        <div className=\"d-flex\">\n          <AvatarStatus\n            size={60}\n            type=\"square\"\n            src={record.image}\n            name={record.name}\n          />\n        </div>\n      ),\n      sorter: (a, b) => utils.antdTableSorter(a, b, \"name\"),\n    },\n    {\n      title: \"Category\",\n      dataIndex: \"category\",\n      sorter: (a, b) => utils.antdTableSorter(a, b, \"category\"),\n    },\n    // {\n    //   title: \"Price\",\n    //   dataIndex: \"price\",\n    //   render: (price) => (\n    //     <div>\n    //       <NumberFormat\n    //         displayType={\"text\"}\n    //         value={(Math.round(price * 100) / 100).toFixed(2)}\n    //         prefix={\"$\"}\n    //         thousandSeparator={true}\n    //       />\n    //     </div>\n    //   ),\n    //   sorter: (a, b) => utils.antdTableSorter(a, b, \"price\"),\n    // },\n    {\n      title: \"Date\",\n      dataIndex: \"stock\",\n      sorter: (a, b) => utils.antdTableSorter(a, b, \"stock\"),\n    },\n    // {\n    //   title: \"Date\",\n    //   dataIndex: \"stock\",\n    //   render: (stock) => (\n    //     <Flex alignItems=\"center\">{getStockStatus(stock)}</Flex>\n    //   ),\n    //   sorter: (a, b) => utils.antdTableSorter(a, b, \"stock\"),\n    // },\n    {\n      title: \"\",\n      dataIndex: \"actions\",\n      render: (_, elm) => (\n        <div className=\"text-right\">\n          <EllipsisDropdown menu={dropdownMenu(elm)} />\n        </div>\n      ),\n    },\n  ];\n\n  const rowSelection = {\n    onChange: (key, rows) => {\n      setSelectedRows(rows);\n      setSelectedRowKeys(key);\n    },\n  };\n\n  const onSearch = (e) => {\n    const value = e.currentTarget.value;\n    const searchArray = e.currentTarget.value ? list : ProductListData;\n    const data = utils.wildCardSearch(searchArray, value);\n    setList(data);\n    setSelectedRowKeys([]);\n  };\n\n  const handleShowCategory = (value) => {\n    if (value !== \"All\") {\n      const key = \"category\";\n      const data = utils.filterArray(ProductListData, key, value);\n      setList(data);\n    } else {\n      setList(ProductListData);\n    }\n  };\n\n  return (\n    <Card>\n      <Flex alignItems=\"center\" justifyContent=\"between\" mobileFlex={false}>\n        <Flex className=\"mb-1\" mobileFlex={false}>\n          <div className=\"mr-md-3 mb-3\">\n            <Input\n              placeholder=\"Search\"\n              prefix={<SearchOutlined />}\n              onChange={(e) => onSearch(e)}\n            />\n          </div>\n          <div className=\"mb-3\">\n            <Select\n              defaultValue=\"All\"\n              className=\"w-100\"\n              style={{ minWidth: 180 }}\n              onChange={handleShowCategory}\n              placeholder=\"Category\"\n            >\n              <Option value=\"All\">All</Option>\n              {categories.map((elm) => (\n                <Option key={elm} value={elm}>\n                  {elm}\n                </Option>\n              ))}\n            </Select>\n          </div>\n        </Flex>\n        <div>\n          <Button\n            onClick={addProduct}\n            type=\"primary\"\n            icon={<PlusCircleOutlined />}\n            block\n          >\n            Add news\n          </Button>\n        </div>\n      </Flex>\n      <div className=\"table-responsive\">\n        <Table\n          columns={tableColumns}\n          dataSource={list}\n          rowKey=\"id\"\n          rowSelection={{\n            selectedRowKeys: selectedRowKeys,\n            type: \"checkbox\",\n            preserveSelectedRowKeys: false,\n            ...rowSelection,\n          }}\n        />\n      </div>\n    </Card>\n  );\n};\n\nexport default ProductList;\n"]},"metadata":{},"sourceType":"module"}