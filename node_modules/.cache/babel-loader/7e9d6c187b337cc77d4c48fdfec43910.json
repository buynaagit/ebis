{"ast":null,"code":"var _jsxFileName = \"/Users/hippo/Workspace/Saasland_React_April_30_2020/Saasland_React/src/Pages/NewsDashboard.js\";\nimport React, { useState } from \"react\";\nimport { Card, Table, Select, Input, Button, Badge, Menu } from \"antd\";\nimport ProductListData from \"../assets/data/product-list.data.json\";\nimport { EyeOutlined, DeleteOutlined, SearchOutlined, PlusCircleOutlined } from \"@ant-design/icons\";\nimport AvatarStatus from \"../components/AvatarStatus\";\nimport EllipsisDropdown from \"../components/EllipsisDropdown\";\nimport Flex from \"../components/Flex\";\nimport NumberFormat from \"react-number-format\";\nimport { useHistory } from \"react-router-dom\";\nimport utils from \"../utils\";\nimport axios from \"axios\";\nimport { URL } from \"../utils/appConstant\";\nconst {\n  Option\n} = Select;\n\nconst getStockStatus = stockCount => {\n  if (stockCount >= 10) {\n    return React.createElement(React.Fragment, null, React.createElement(Badge, {\n      status: \"success\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 25\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26\n      },\n      __self: this\n    }, \"In Stock\"));\n  }\n\n  if (stockCount < 10 && stockCount > 0) {\n    return React.createElement(React.Fragment, null, React.createElement(Badge, {\n      status: \"warning\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34\n      },\n      __self: this\n    }, \"Limited Stock\"));\n  }\n\n  if (stockCount === 0) {\n    return React.createElement(React.Fragment, null, React.createElement(Badge, {\n      status: \"error\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, \"Out of Stock\"));\n  }\n\n  return null;\n};\n\nconst categories = [\"Cloths\", \"Bags\", \"Shoes\", \"Watches\", \"Devices\"];\n\nconst ProductList = () => {\n  let history = useHistory();\n  const [list, setList] = useState(ProductListData);\n  const [selectedRows, setSelectedRows] = useState([]);\n  const [selectedRowKeys, setSelectedRowKeys] = useState([]);\n  const [blogs, setBlogs] = useState([]);\n  const getBlogFromAPI = React.useCallback(e => {\n    // e.preventDefault();\n    const config = {\n      headers: {\n        \"Content-type\": \"application/json\"\n      }\n    };\n    console.log(`button Pressed`);\n    axios.get(`${URL}/api/blogs/`, config).then(function (response) {\n      console.log(`response`, response.data);\n      localStorage.setItem(\"blogs\", response.data.token);\n      setBlogs(response.data);\n    }).catch(function (error) {\n      console.log(`error`, error.response);\n    });\n  }, []);\n  React.useEffect(() => {\n    getBlogFromAPI();\n  }, [getBlogFromAPI]);\n\n  const dropdownMenu = row => React.createElement(Menu, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, React.createElement(Menu.Item, {\n    onClick: () => viewDetails(row),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, React.createElement(Flex, {\n    alignItems: \"center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, React.createElement(EyeOutlined, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    className: \"ml-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, \"Edit news\"))), React.createElement(Menu.Item, {\n    onClick: () => deleteRow(row),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }, React.createElement(Flex, {\n    alignItems: \"center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, React.createElement(DeleteOutlined, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    className: \"ml-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }, selectedRows.length > 0 ? `Delete (${selectedRows.length})` : \"Delete\"))));\n\n  const addProduct = () => {\n    history.push(`/NewsPublish`);\n  };\n\n  const viewDetails = row => {\n    history.push(`/app/apps/ecommerce/edit-product/${row.id}`);\n  };\n\n  const deleteRow = row => {\n    const objKey = \"id\";\n    let data = list;\n\n    if (selectedRows.length > 1) {\n      selectedRows.forEach(elm => {\n        data = utils.deleteArrayRow(data, objKey, elm.id);\n        setList(data);\n        setSelectedRows([]);\n      });\n    } else {\n      data = utils.deleteArrayRow(data, objKey, row.id);\n      setList(data);\n    }\n  };\n\n  const tableColumns = [{\n    title: \"ID\",\n    dataIndex: \"id\"\n  }, {\n    title: \"Product\",\n    dataIndex: \"name\",\n    render: (_, record) => React.createElement(\"div\", {\n      className: \"d-flex\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, React.createElement(AvatarStatus, {\n      size: 60,\n      type: \"square\",\n      src: record.image,\n      name: record.name,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    })),\n    sorter: (a, b) => utils.antdTableSorter(a, b, \"name\")\n  }, {\n    title: \"Category\",\n    dataIndex: \"category\",\n    sorter: (a, b) => utils.antdTableSorter(a, b, \"category\")\n  }, // {\n  //   title: \"Price\",\n  //   dataIndex: \"price\",\n  //   render: (price) => (\n  //     <div>\n  //       <NumberFormat\n  //         displayType={\"text\"}\n  //         value={(Math.round(price * 100) / 100).toFixed(2)}\n  //         prefix={\"$\"}\n  //         thousandSeparator={true}\n  //       />\n  //     </div>\n  //   ),\n  //   sorter: (a, b) => utils.antdTableSorter(a, b, \"price\"),\n  // },\n  {\n    title: \"Date\",\n    dataIndex: \"stock\",\n    sorter: (a, b) => utils.antdTableSorter(a, b, \"stock\")\n  }, // {\n  //   title: \"Date\",\n  //   dataIndex: \"stock\",\n  //   render: (stock) => (\n  //     <Flex alignItems=\"center\">{getStockStatus(stock)}</Flex>\n  //   ),\n  //   sorter: (a, b) => utils.antdTableSorter(a, b, \"stock\"),\n  // },\n  {\n    title: \"\",\n    dataIndex: \"actions\",\n    render: (_, elm) => React.createElement(\"div\", {\n      className: \"text-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }, React.createElement(EllipsisDropdown, {\n      menu: dropdownMenu(elm),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }))\n  }];\n  const rowSelection = {\n    onChange: (key, rows) => {\n      setSelectedRows(rows);\n      setSelectedRowKeys(key);\n    }\n  };\n\n  const onSearch = e => {\n    const value = e.currentTarget.value;\n    const searchArray = e.currentTarget.value ? list : ProductListData;\n    const data = utils.wildCardSearch(searchArray, value);\n    setList(data);\n    setSelectedRowKeys([]);\n  };\n\n  const handleShowCategory = value => {\n    if (value !== \"All\") {\n      const key = \"category\";\n      const data = utils.filterArray(blogs, key, value);\n      setList(data);\n    } else {\n      setList(blogs);\n    }\n  };\n\n  return React.createElement(Card, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217\n    },\n    __self: this\n  }, React.createElement(Flex, {\n    alignItems: \"center\",\n    justifyContent: \"between\",\n    mobileFlex: false,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218\n    },\n    __self: this\n  }, React.createElement(Flex, {\n    className: \"mb-1\",\n    mobileFlex: false,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"mr-md-3 mb-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220\n    },\n    __self: this\n  }, React.createElement(Input, {\n    placeholder: \"Search\",\n    prefix: React.createElement(SearchOutlined, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223\n      },\n      __self: this\n    }),\n    onChange: e => onSearch(e),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"mb-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227\n    },\n    __self: this\n  }, React.createElement(Select, {\n    defaultValue: \"All\",\n    className: \"w-100\",\n    style: {\n      minWidth: 180\n    },\n    onChange: handleShowCategory,\n    placeholder: \"Category\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228\n    },\n    __self: this\n  }, React.createElement(Option, {\n    value: \"All\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235\n    },\n    __self: this\n  }, \"All\"), categories.map(elm => React.createElement(Option, {\n    key: elm,\n    value: elm,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237\n    },\n    __self: this\n  }, elm))))), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244\n    },\n    __self: this\n  }, React.createElement(Button, {\n    onClick: addProduct,\n    type: \"primary\",\n    icon: React.createElement(PlusCircleOutlined, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248\n      },\n      __self: this\n    }),\n    block: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245\n    },\n    __self: this\n  }, \"Add news\"))), React.createElement(\"div\", {\n    className: \"table-responsive\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255\n    },\n    __self: this\n  }, React.createElement(Table, {\n    columns: tableColumns,\n    dataSource: blogs,\n    rowKey: \"id\",\n    rowSelection: {\n      selectedRowKeys: selectedRowKeys,\n      type: \"checkbox\",\n      preserveSelectedRowKeys: false,\n      ...rowSelection\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256\n    },\n    __self: this\n  })));\n};\n\nexport default ProductList;","map":{"version":3,"sources":["/Users/hippo/Workspace/Saasland_React_April_30_2020/Saasland_React/src/Pages/NewsDashboard.js"],"names":["React","useState","Card","Table","Select","Input","Button","Badge","Menu","ProductListData","EyeOutlined","DeleteOutlined","SearchOutlined","PlusCircleOutlined","AvatarStatus","EllipsisDropdown","Flex","NumberFormat","useHistory","utils","axios","URL","Option","getStockStatus","stockCount","categories","ProductList","history","list","setList","selectedRows","setSelectedRows","selectedRowKeys","setSelectedRowKeys","blogs","setBlogs","getBlogFromAPI","useCallback","e","config","headers","console","log","get","then","response","data","localStorage","setItem","token","catch","error","useEffect","dropdownMenu","row","viewDetails","deleteRow","length","addProduct","push","id","objKey","forEach","elm","deleteArrayRow","tableColumns","title","dataIndex","render","_","record","image","name","sorter","a","b","antdTableSorter","rowSelection","onChange","key","rows","onSearch","value","currentTarget","searchArray","wildCardSearch","handleShowCategory","filterArray","minWidth","map","type","preserveSelectedRowKeys"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { Card, Table, Select, Input, Button, Badge, Menu } from \"antd\";\nimport ProductListData from \"../assets/data/product-list.data.json\";\nimport {\n  EyeOutlined,\n  DeleteOutlined,\n  SearchOutlined,\n  PlusCircleOutlined,\n} from \"@ant-design/icons\";\nimport AvatarStatus from \"../components/AvatarStatus\";\nimport EllipsisDropdown from \"../components/EllipsisDropdown\";\nimport Flex from \"../components/Flex\";\nimport NumberFormat from \"react-number-format\";\nimport { useHistory } from \"react-router-dom\";\nimport utils from \"../utils\";\nimport axios from \"axios\";\nimport { URL } from \"../utils/appConstant\";\n\nconst { Option } = Select;\n\nconst getStockStatus = (stockCount) => {\n  if (stockCount >= 10) {\n    return (\n      <>\n        <Badge status=\"success\" />\n        <span>In Stock</span>\n      </>\n    );\n  }\n  if (stockCount < 10 && stockCount > 0) {\n    return (\n      <>\n        <Badge status=\"warning\" />\n        <span>Limited Stock</span>\n      </>\n    );\n  }\n  if (stockCount === 0) {\n    return (\n      <>\n        <Badge status=\"error\" />\n        <span>Out of Stock</span>\n      </>\n    );\n  }\n  return null;\n};\n\nconst categories = [\"Cloths\", \"Bags\", \"Shoes\", \"Watches\", \"Devices\"];\n\nconst ProductList = () => {\n  let history = useHistory();\n  const [list, setList] = useState(ProductListData);\n  const [selectedRows, setSelectedRows] = useState([]);\n  const [selectedRowKeys, setSelectedRowKeys] = useState([]);\n  const [blogs, setBlogs] = useState([]);\n\n  const getBlogFromAPI = React.useCallback((e) => {\n    // e.preventDefault();\n    const config = {\n      headers: {\n        \"Content-type\": \"application/json\",\n      },\n    };\n    console.log(`button Pressed`);\n\n    axios\n      .get(`${URL}/api/blogs/`, config)\n      .then(function (response) {\n        console.log(`response`, response.data);\n        localStorage.setItem(\"blogs\", response.data.token);\n        setBlogs(response.data);\n      })\n      .catch(function (error) {\n        console.log(`error`, error.response);\n      });\n  }, []);\n\n  React.useEffect(() => {\n    getBlogFromAPI();\n  }, [getBlogFromAPI]);\n\n  const dropdownMenu = (row) => (\n    <Menu>\n      <Menu.Item onClick={() => viewDetails(row)}>\n        <Flex alignItems=\"center\">\n          <EyeOutlined />\n          <span className=\"ml-2\">Edit news</span>\n        </Flex>\n      </Menu.Item>\n      <Menu.Item onClick={() => deleteRow(row)}>\n        <Flex alignItems=\"center\">\n          <DeleteOutlined />\n          <span className=\"ml-2\">\n            {selectedRows.length > 0\n              ? `Delete (${selectedRows.length})`\n              : \"Delete\"}\n          </span>\n        </Flex>\n      </Menu.Item>\n    </Menu>\n  );\n\n  const addProduct = () => {\n    history.push(`/NewsPublish`);\n  };\n\n  const viewDetails = (row) => {\n    history.push(`/app/apps/ecommerce/edit-product/${row.id}`);\n  };\n\n  const deleteRow = (row) => {\n    const objKey = \"id\";\n    let data = list;\n    if (selectedRows.length > 1) {\n      selectedRows.forEach((elm) => {\n        data = utils.deleteArrayRow(data, objKey, elm.id);\n        setList(data);\n        setSelectedRows([]);\n      });\n    } else {\n      data = utils.deleteArrayRow(data, objKey, row.id);\n      setList(data);\n    }\n  };\n\n  const tableColumns = [\n    {\n      title: \"ID\",\n      dataIndex: \"id\",\n    },\n    {\n      title: \"Product\",\n      dataIndex: \"name\",\n      render: (_, record) => (\n        <div className=\"d-flex\">\n          <AvatarStatus\n            size={60}\n            type=\"square\"\n            src={record.image}\n            name={record.name}\n          />\n        </div>\n      ),\n      sorter: (a, b) => utils.antdTableSorter(a, b, \"name\"),\n    },\n    {\n      title: \"Category\",\n      dataIndex: \"category\",\n      sorter: (a, b) => utils.antdTableSorter(a, b, \"category\"),\n    },\n    // {\n    //   title: \"Price\",\n    //   dataIndex: \"price\",\n    //   render: (price) => (\n    //     <div>\n    //       <NumberFormat\n    //         displayType={\"text\"}\n    //         value={(Math.round(price * 100) / 100).toFixed(2)}\n    //         prefix={\"$\"}\n    //         thousandSeparator={true}\n    //       />\n    //     </div>\n    //   ),\n    //   sorter: (a, b) => utils.antdTableSorter(a, b, \"price\"),\n    // },\n    {\n      title: \"Date\",\n      dataIndex: \"stock\",\n      sorter: (a, b) => utils.antdTableSorter(a, b, \"stock\"),\n    },\n    // {\n    //   title: \"Date\",\n    //   dataIndex: \"stock\",\n    //   render: (stock) => (\n    //     <Flex alignItems=\"center\">{getStockStatus(stock)}</Flex>\n    //   ),\n    //   sorter: (a, b) => utils.antdTableSorter(a, b, \"stock\"),\n    // },\n    {\n      title: \"\",\n      dataIndex: \"actions\",\n      render: (_, elm) => (\n        <div className=\"text-right\">\n          <EllipsisDropdown menu={dropdownMenu(elm)} />\n        </div>\n      ),\n    },\n  ];\n\n  const rowSelection = {\n    onChange: (key, rows) => {\n      setSelectedRows(rows);\n      setSelectedRowKeys(key);\n    },\n  };\n\n  const onSearch = (e) => {\n    const value = e.currentTarget.value;\n    const searchArray = e.currentTarget.value ? list : ProductListData;\n    const data = utils.wildCardSearch(searchArray, value);\n    setList(data);\n    setSelectedRowKeys([]);\n  };\n\n  const handleShowCategory = (value) => {\n    if (value !== \"All\") {\n      const key = \"category\";\n      const data = utils.filterArray(blogs, key, value);\n      setList(data);\n    } else {\n      setList(blogs);\n    }\n  };\n\n  return (\n    <Card>\n      <Flex alignItems=\"center\" justifyContent=\"between\" mobileFlex={false}>\n        <Flex className=\"mb-1\" mobileFlex={false}>\n          <div className=\"mr-md-3 mb-3\">\n            <Input\n              placeholder=\"Search\"\n              prefix={<SearchOutlined />}\n              onChange={(e) => onSearch(e)}\n            />\n          </div>\n          <div className=\"mb-3\">\n            <Select\n              defaultValue=\"All\"\n              className=\"w-100\"\n              style={{ minWidth: 180 }}\n              onChange={handleShowCategory}\n              placeholder=\"Category\"\n            >\n              <Option value=\"All\">All</Option>\n              {categories.map((elm) => (\n                <Option key={elm} value={elm}>\n                  {elm}\n                </Option>\n              ))}\n            </Select>\n          </div>\n        </Flex>\n        <div>\n          <Button\n            onClick={addProduct}\n            type=\"primary\"\n            icon={<PlusCircleOutlined />}\n            block\n          >\n            Add news\n          </Button>\n        </div>\n      </Flex>\n      <div className=\"table-responsive\">\n        <Table\n          columns={tableColumns}\n          dataSource={blogs}\n          rowKey=\"id\"\n          rowSelection={{\n            selectedRowKeys: selectedRowKeys,\n            type: \"checkbox\",\n            preserveSelectedRowKeys: false,\n            ...rowSelection,\n          }}\n        />\n      </div>\n    </Card>\n  );\n};\n\nexport default ProductList;\n"]},"metadata":{},"sourceType":"module"}